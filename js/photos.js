brah.photos = brah.photos || {

    galleries: [
        {
            title: 'Brahctopus',
            description: 'Photography and editing by Zachary Shahen',
            images: [
                {
                    src: 'https://i.imgur.com/hQvXXcn.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/GcmI34I.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/F5HQWyo.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/xQREeOA.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/cxgEhpC.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/f1jpX87.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/iFwgkln.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/9w4iHEa.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/0jIHxB6.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/YEMGExj.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/uFUWzPC.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/3b1SsfP.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/MxrWqjN.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/rWvB95d.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/chddKTp.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/bXv7eJg.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/3BRlN1G.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/jK0ThSq.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/DrZqldS.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/TybTBbf.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/fTV47zZ.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/Fl3Ehsy.jpg',
                    title: ''
                },

                {
                    src: 'https://i.imgur.com/fzDVUKS.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/DlzuAxa.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/iJIDYQG.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/HJXeigu.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/hZC9Pn0.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/kYGx80p.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/nQk8noT.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/U5qIVGL.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/mFTvdyg.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/yHLs79K.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/dmnA1HI.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/FpDMndI.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/4bLrQuZ.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/EZMyeMk.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/0LD8pa2.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/bonPFN6.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/WAeNVMh.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/lXQeQ1Z.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/NXDpkmD.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/tdp3DOF.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/J5XNC6O.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/bBgMML2.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/yGu5sKY.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/QRoM2Nr.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/AALh3ri.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/K1IG2Qk.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/wLJTOQT.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/LHp2tzw.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/P0BfWDs.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/rP5BNPC.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/V3blLkx.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/udip3wy.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/l1Sq9l2.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/pLDmiRA.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/4v3T0ma.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/AMN3z7x.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/C5EVvfo.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/6hTzbUj.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/is0dUcI.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/6r5lkWz.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/NcLRBFp.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/mvsy04i.jpg',
                    title: ''
                }
            ]
        },
        {
            title: 'Squigglism',
            description: 'Photography and editing by Zachary Shahen',
            images: [
                {
                    src: 'https://i.imgur.com/SadorA1.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/kugNr7d.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/1hAcV9X.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/HAYHB3B.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/XFGBd8E.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/Wgo1Nzi.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/ilLuG0M.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/2xf63Kc.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/nKN1Fqk.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/ca0Hi4r.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/8A9fLiw.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/4W8TsvA.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/KlI1jl9.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/xHbCHrf.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/vq51cZe.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/mifAKOJ.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/Nj74k6D.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/hJNRQu9.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/Yn18KLO.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/yjNLWlK.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/odJy6Rc.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/kOzzEU6.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/BHJVuwo.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/VGPn9Tl.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/BhuPUv1.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/KnXraKm.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/p3LfZCW.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/7wBbiqO.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/mIr0o7F.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/bnrLIBg.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/Cot7p1J.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/gUnQe7v.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/OF7vsPS.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/PIGIjyN.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/eohZ9Kx.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/XY74BXi.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/pwPyz9N.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/1adMA8P.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/SMAM7jn.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/FAK5TIl.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/23r9QZF.jpg',
                    w: '1280',
                    h: '1920',
                    msrc: 'https://i.imgur.com/9Ps5I0j.jpg',
                    title: ''
                },
                {
                    src: 'https://i.imgur.com/bGbIcsc.jpg',
                    w: '1920',
                    h: '1376',
                    msrc: 'https://i.imgur.com/u7co9ys.jpg',
                    title: ''
                }
            ]
        }
    ],

    populate: function () {
        var $photos = $('.photos').html('');
        $.each(brah.photos.galleries, function (index1, gallery) {
            $photos.append($('<div></div>')
                .addClass('header')
                .append($('<h2></h2>')
                    .text(gallery.title)));
            $photos.append($('<p></p>')
                .text(gallery.description));
            var $gallery = $('<div></div>').addClass('gallery');
            $.each(gallery.images, function (index2, image) {
                $gallery.append($('<div></div>')
                    .addClass('image' + (image.h > image.w ? ' tall' : ''))
                    .append($('<img/>')
                        .attr('src', image.msrc)));
            });
            $photos.append($gallery);
        });
    },

    load: function () {
        var pswp = $('.pswp')[0],
            $this = $(this),
            index = $this.parent().index('.gallery'),
            options = {
                index: $this.index(),
                history: false,
                getThumbBoundsFn: function (index2) {
                    var thumb = $this.parent().find('.image:nth-child(' + (index2 + 1) + ') img'),
                        width = thumb.width(),
                        pos = thumb.offset(),
                        parent = $this.closest('.container'),
                        parentPos = parent.offset();
                        console.log(pos);
                        console.log(parentPos);
                    return { x: pos.left, y: pos.top, w: width };
                }
            };
        if (pswp) {
            brah.photos.gallery = new PhotoSwipe(pswp, PhotoSwipeUI_Default, brah.photos.galleries[index].images, options);
            brah.photos.gallery.init();
        }
    },

    events: function () {
        $('.image').on('click', brah.photos.load);
    },

    init: function () {
        brah.photos.populate();
        brah.photos.events();
    }
};

$(brah.photos.init);